<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>House Loyalty</title>
    <link href="https://fonts.googleapis.com/css2?family=Oswald&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link rel="stylesheet" href="style/main.css">
</head>
<body class="d-flex flex-column justify-content-between">

    <script src="https://kit.fontawesome.com/5054ae49f1.js" crossorigin="anonymous"></script>
            
    <!-- HEADER-->
    <header class="d-flex">            
        <img id="logo" class="mt-auto" src="style/img/logoHome.png" alt="">
        <h1 class="mt-auto">TGIF</h1>
        <a class= "mail mt-auto ml-auto" href="mailto:info@tgif.net?subject=Reaching%20Out&body=Hello%20TGIF:"><i class="fas fa-envelope"></i> info@tgif.net</a>
        </header>

    <!-- NAV-->
    <nav class="navbar navbar-expand-sm navbar-light bg-ligth2">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav">
                <li class="nav-item active">
                <a class="nav-link" href="home-starter-page.html">Home <span class="sr-only">(current)</span></a>
                </li>

                <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Congress 133
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                    <a class="dropdown-item" href="senate-starter-page.html">Senate</a>
                    <a class="dropdown-item" href="house-starter-page.html">House</a>
                </div>
                </li>

                <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Attendance
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                    <a class="dropdown-item" href="senate-attendance.html">Senate</a>
                    <a class="dropdown-item" href="#">House</a>
                </div>
                </li>

                <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Party Loyalty
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                    <a class="dropdown-item" href="senate-party-loyalty.html">Senate</a>
                    <a class="dropdown-item" href="house-starter-page.html">House</a>
                </div>
                </li>
            </ul>
            </div>
        </nav>

        <!-- MAIN-->
        <main>
            <div id="statistics">

            <div class="container-fluid">

                <div class="row">

                    <div class="col-12 col-md-6">
                    <h2 class="m-2">Party Loyalty</h2>
                    <p class="m-2">Those who consider themselves to be strong partisans, strong Democrats and strong Republicans respectively, tend to be the most faithful in voting for their party's nominee for office and legislation that backs their party's agenda. </p>
                    </div>

                    <div class="col-12 col-md-6">
                    <h3 class="float-right">House at a glance</h3>
                    <table id="table-house-loyalty" class="table table-ligth table-striped">
                        <thead>
                            <tr>
                                <th>Party</th>
                                <th>N° of representants</th>
                                <th>% Voted with Party</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td>Democrats</td>
                                <td>{{democrats.length}}</td>
                                <td>{{avg_votes_democrats}}%</td>
                            </tr>

                            <tr>
                                <td>Republicans</td>
                                <td>{{republicans.length}}</td>
                                <td>{{avg_votes_republicans}}%</td>
                            </tr>

                            <tr>
                                <td>Independent</td>
                                <td>{{independent.length}}</td>
                                <td>{{avg_votes_independent}}%</td>
                            </tr>

                            <tr>
                                <td>Total</td>
                                <td>{{members_total}}</td>
                                <td>{{avg_votes_total}}%</td>
                            </tr>
                        </tbody>
                    </table>
                    </div>
                </div>

                <div class="linea"><div></div></div>
            
                <div class="row">

                    <div class="col-12 col-md-6 d-flex justify-content-center flex-column">
                        <h3>Least Loyal (Bottom 10% of Party)</h3>
                        <div class="tabla m-3">
                            <table id="table-house-least-loyalty" class="table table-ligth table-striped">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>N° Party Votes</th>
                                        <th>% Party Votes</th>
                                    </tr>
                                </thead>
        
                                <tbody>
                                    <tr v-for="member in leastLoyal">
                                        <td>{{member.first_name}} {{(member.middle_name || '')}} {{member.last_name}}</td>
                                        <td>{{member.total_votes}}</td>
                                        <td>{{member.votes_with_party_pct}}%</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="col-12 col-md-6 d-flex justify-content-center flex-column">
                        <h3>Most Loyal (Bottom 10% of Party)</h3>
                        <div class="tabla m-3">
                        <table id="table-house-most-loyalty" class="table table-ligth table-striped">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>N° Party Votes</th>
                                    <th>% Party Votes</th>
                                </tr>
                            </thead>
    
                            <tbody>
                                <tr v-for="member in mostLoyal">
                                    <td>{{member.first_name}} {{(member.middle_name || '')}} {{member.last_name}}</td>
                                    <td>{{member.total_votes}}</td>
                                    <td>{{member.votes_with_party_pct}}%</td>
                                </tr>
                            </tbody>
                        </table>
                        </div>
                    </div>
            
                </div>

            </div>
        </div>
        </main>

        <!-- FOOTER-->
        <footer class="footer center p-3 d-flex justify-content-center">
            <p>&copy; 2016 TGIF | All Rights Reserved</p>
        </footer>
   
    <!-- JAVASCRIPT-->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="script/house-data.js"></script>
    <script src="script/main.js"></script>
    <script src="script/data-house-statistics.js"></script>
    <script src="script/statistics.js"></script>
    <script src="script/tables-statistics.js"></script>
</body>
</html>